
\newcommand{\todo}[1]{\textcolor{blue}{TODO: {#1}}}
\newcommand{\hide}[1]{}

\newcommand{\defn}{\triangleq}
\newcommand{\dslcode}[1]{\mbox{\textsf{#1}}}
\newcommand{\code}[1]{\mbox{#1}}
\newcommand{\uscore}[0]{{\char95}}
\newcommand{\cond}[1]{{(\!|}{#1}{|\!)}}
\newcommand{\valueof}[1]{[\![{#1}]\!]}
\newcommand{\bbfB}{\mathbb{B}}
\newcommand{\bbfN}{\mathbb{N}}
\newcommand{\bbfZ}{\mathbb{Z}}
\newcommand{\bbfF}{\mathbb{K}}
\newcommand{\bbfGF}{\mathbb{GF}}
\newcommand{\bbfG}{\mathbb{G}}
\newcommand{\bbfV}{\mathbb{V}}
\newcommand{\bff}{\mathit{ff}}
\newcommand{\btt}{\mathit{tt}}
\newcommand{\St}{\mathit{St}}
\newcommand{\Tr}{\mathit{Tr}}
\newcommand{\coq}{\textsc{Coq}\xspace}
\newcommand{\openssh}{\textsc{OpenSSH}\xspace}
\newcommand{\openssl}{\textsc{OpenSSL}\xspace}
\newcommand{\singular}{\textsc{Singular}\xspace}
\newcommand{\qhasm}{\textsc{Qhasm}\xspace}
\newcommand{\gfverif}{\texttt{gfverif}\xspace}
\newcommand{\gallina}{\textsc{Gallina}\xspace}
\newcommand{\boolector}{\textsc{Boolector}\xspace}
\newcommand{\Prog}{\mathit{Prog}}
\newcommand{\Pred}{\mathit{Pred}}
\newcommand{\Nat}{\mathit{Nat}}
\newcommand{\Int}{\mathit{Int}}
\newcommand{\Var}{\mathit{Var}}
\newcommand{\Expr}{\mathit{Expr}}
\newcommand{\Stmt}{\mathit{Stmt}}
\newcommand{\Spec}{\mathit{Spec}}
\newcommand{\vx}{\vec{x}}
\newcommand{\vv}{\vec{v}}
\newcommand{\vn}{\vec{n}}
\newcommand{\vd}{\vec{d}}
\newcommand{\goesto}[1]{\overset{#1}{\Longrightarrow}}
\newcommand{\myprime}{\varrho}
\newcommand{\hoaretriple}[3]{\cond{#1}~{#2}~\cond{#3}}
\newcommand{\concat}[2]{{[}{#1}, {#2}{]}}
\newcommand{\mymapsto}[2]{{[}{#1} \leftarrow {#2}{]}}
\newcommand{\Gzero}{0_{\bbfG}}
\newcommand{\Gplus}{+_{\bbfG}}
\newcommand{\Geq}{=_{\bbfG}}
\newcommand{\Fplus}{+_{\bbfF}}
\newcommand{\Fminus}{-_{\bbfF}}
\newcommand{\Ftimes}{\cdot_{\bbfF}}
\newcommand{\Fzero}{0_{\bbfF}}
\newcommand{\Funit}{1_{\bbfF}}
\newcommand{\Feq}{=_{\bbfF}}
\newcommand{\Fdiv}{\div_{\bbfF}}
\newcommand{\bvdsl}{\textsc{bvCryptoLine}\xspace}
\newcommand{\zdsl}{\textsc{zCryptoLine}\xspace}
\renewcommand{\mod}{\mathbin{\textmd{mod}}}
\newcommand{\bbAtomic}{\mathit{bAtomic}}
\newcommand{\bvAtom}{\mathit{bAtom}}
\newcommand{\BV}{\bbfV} % Set of bit-vectors
\newcommand{\bv}{\mathit{bv}} % a function from Z to BV
\newcommand{\bvStmt}{\mathit{bStmt}} % Set of BV statements
\newcommand{\bvSt}{\mathit{bSt}} % Set of BV states
\newcommand{\bvTr}{\mathit{bTr}}
\newcommand{\bvProg}{\mathit{bProg}}
\newcommand{\bvExpa}{\mathit{bExp_a}}
\newcommand{\bvPreda}{\mathit{bPred_a}}
\newcommand{\bvExpr}{\mathit{bExp_r}}
\newcommand{\bvPredr}{\mathit{bPred_r}}
\newcommand{\bvPred}{\mathit{bPred}}
\newcommand{\bvSpec}{\mathit{bSpec}}
\newcommand{\bvst}{\nu} % prefix of BV states
\newcommand{\bvop}{\bbfV} % subscript of BV operators
\newcommand{\hi}{\mathit{hi}}
\newcommand{\lo}{\mathit{lo}}
\newcommand{\unsigned}[1]{|#1|}
\newcommand{\bvvalueof}[1]{[\![{#1}]\!]_\bbfV}
\newcommand{\zvalueof}[1]{[\![{#1}]\!]_\bbfZ}
\newcommand{\bvspectozspec}{\textsc{bvSpecTozSpec}}
\newcommand{\zSt}{\mathit{zSt}}
\newcommand{\zTr}{\mathit{zTr}}
\newcommand{\zst}{\mu} % prefix of Z states
\newcommand{\zExpr}{\mathit{zExpr}}
\newcommand{\zStmt}{\mathit{zStmt}}
\newcommand{\zSpec}{\mathit{zSpec}}
\newcommand{\zProg}{\mathit{zProg}}
\newcommand{\zPred}{\mathit{zPred}}
\newcommand{\wordsize}{\mathit{w}} % the assumed wordsize
\newcommand{\safe}{\mathit{safe}}
\makeatletter
\newcommand*\andar{\rotatebox[origin=c]{90}{$\dabar@\dabar@$}}
\makeatother

\makeatletter
\let\OldStatex\Statex
\renewcommand{\Statex}[1][3]{%
  \setlength\@tempdima{\algorithmicindent}%
  \OldStatex\hskip\dimexpr#1\@tempdima\relax}
\newcommand{\StatexIndent}[1][3]{%
  \setlength\@tempdima{\algorithmicindent}%
  \Statex\hskip\dimexpr#1\@tempdima\relax}
\makeatother

\algnewcommand\algorithmicmatch{\textbf{match}}
\algnewcommand\algorithmicwith{\textbf{with}}
\algnewcommand\algorithmiccase{\textbf{case}}
% New "environments"
\algdef{SE}[MATCH]{Match}{EndMatch}[1]{\algorithmicmatch\ {#1}\ \algorithmicwith}{\algorithmicend\ \algorithmicmatch}%
\algdef{SE}[CASE]{Case}{EndCase}[1]{\algorithmiccase\ {#1}:}{\algorithmicend\ \algorithmiccase}%
\algtext*{EndMatch}%
\algtext*{EndCase}%
\algnewcommand{\IfThenElse}[3]{% \IfThenElse{<if>}{<then>}{<else>}
  \State \algorithmicif\ #1\ \algorithmicthen\ #2\ \algorithmicelse\ #3}
